<!DOCTYPE html>
<html>
  <head>
    <title>{{this.title}}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <!-- Bootstrap -->
    {% set bootstrap = "3.1.1" %}
    {% if site.bootstrap %}
    {%   set bootstrap = site.bootstrap %}
    {% endif %}
    {% if site.bootswatch %}
    {%   set theme_path = "bootswatch/"+ bootstrap + '/' + site.bootswatch %}
    {% else %}
    {%   set theme_path = "bootstrap/" + bootstrap + "/css" %}
    {% endif %}
    <!--link href="//netdna.bootstrapcdn.com/{{theme_path}}/bootstrap.min.css" rel="stylesheet" media="screen" -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

    {% set url_prefix = '' %}
    {% if site.baseurl %}
    {%   set url_prefix = '/' + site.baseurl %}
    {% endif %}
    <link href="{{url_prefix + '/css/site.css'}}" rel="stylesheet" media="screen" >
    <link href="{{url_prefix + '/css/syntax.css'}}" rel="stylesheet" media="screen" >
    <link href="css/carousel.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
    {% include 'favicon.html' %}
    {% include 'analytics.html' %}
    {% block head_addon %}
    {% endblock %} 
  </head>

  <body>

    <!-- Fixed navbar -->
    {% set navbar_right_items = 1 %}
    {% if site.navbar_right_items is defined %}
    {%   set navbar_right_items = site.navbar_right_items %}
    {% endif %}
    {% set navbar_right_index = site.reflinks['/'].content|length - navbar_right_items %}
    <nav class="navbar  navbar-expand-lg navbar-light bg-light fixed-top">
      <div class="container">
        <div class="navbar-header">
	  {% include 'orange-dragon.svg' %}

          <a class="navbar-brand" href="{{url_prefix + '/'}}">{{site.brand}}</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse">
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">

          <ul class="navbar-nav me-auto mb-3 mb-lg-0">
            {% block home %}
            {% endblock %}
            {% for item in site.reflinks['/'].content[:navbar_right_index] %}
            {%   set context = ' class="nav-link"' %}
            {%   set context_dropdown = ' class="nav-link dropdown-toggle"' %}
            {%   if item.components|d and this.components[0] == item.components[0] %}
            {%     set context = ' class="nav-link active" aria-current="page"' %}
            {%     set context_dropdown = ' class="nav-link dropdown-toggle active" aria-current="page"' %}
            {%   endif %}
            {%   if item.content|d and item.dropdown %}
	    <li class="nav-item dropdown">
              <a {{context_dropdown}} class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">{{item.title}}</a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                {% for subitem in item.content %}
		<li><a class="dropdown-item" href="{{subitem.url}}">{{subitem.title}}</a></li>
                {% endfor %}
              </ul>
            </li>
            {% else %}
            <li class="nav-item"><a{{context}} href="{{item.url}}">{{item.title}}</a></li>
            {%   endif %}
            {% endfor %}

            <!--form class="navbar-form navbar-left" action="/search.html" role="search">
              <div class="form-group">
		<input type="text" required name="q" id="tipue_search_input" class="form-control" placeholder="Search"> 
              </div>
            </form-->

	  </ul>

          <ul class="navbar-nav me-auto mb-3 mb-lg-0">

            {% for item in site.reflinks['/'].content[navbar_right_index:] %}
            {%   set context = '' %}
            {%   set context_dropdown = ' class="nav-link dropdown-toggle"' %}
            {%   if item.components|d and this.components[0] == item.components[0] %}
            {%     set context = ' class="active"' %}
            {%   endif %}
            {%   if item.content|d and item.dropdown %}
            <li class="nav-item dropdown">
              <a {{context_dropdown}} class="nav-link dropdown-toggle" href="{{item.url}}" id="navbarDropdown1" role="button" data-bs-toggle="dropdown" aria-expanded="false">{{item.title}}</a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown1">
                {% for subitem in item.content %}
                <li><a class="dropdown-item" href="{{subitem.url}}">{{subitem.title}}</a></li>
                {% endfor %}
              </ul>
            </li>
            {% else %}
            <li{{context}}><a href="{{item.url}}">{{item.title}}</a></li>
            {%   endif %}
            {% endfor %}

      </div>
    </nav>

    {% block body %}
    {% endblock %}

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>

    {% block body_addon %}
    {% endblock %} 

  </body>
</html>

